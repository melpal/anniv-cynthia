<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Stack+Sans+Text:wght@200..700&display=swap" rel="stylesheet">
  <title>Tic Tac Toe</title>

  <style>
    :root{
      --bg-color:#ffb3c6;
      --text-color:#000;
      --accent:#fb6f92;
      --grid-color:#000;
      --font-main:"Stack Sans Text", sans-serif;
    }

    .stack-sans-text-<uniquifier> {
     font-family: "Stack Sans Text", sans-serif;
     font-optical-sizing: auto;
     font-weight: <weight>;
     font-style: normal;
    }

    body{
      margin:0;
      background:var(--bg-color);
      font-family:var(--font-main);
      color:var(--text-color);
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
    }

    h1,h2,h3{margin:0;text-align:center;color:var(--accent)}

    p {
    display: block;
    padding: 20px;
    }

    #home{
      width:100%;
      padding:20px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
    }

    #photo{
      width:90%;
      max-width:400px;
      gap:8px;
    }
    #photo img{width:100%; border-radius:10px}

    #play-btn{
      background:var(--accent);
      color:#fff;
      padding:12px 20px;
      border:none;
      border-radius:10px;
      font-size:1.2rem;
      cursor:pointer;
      font-family: inherit;
    }
    
    #game-section{display:none; width:100%; padding-top:20px;}

    #game-container{
      width:100%;
      display:flex;
      justify-content:center;
    }

    #game{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
      width:100%;
    }

    .cell{
      width:100%; aspect-ratio:1/1;
      border:3px solid var(--grid-color);
      border-radius:10px;
      display:flex; align-items:center;
      justify-content:center;
      font-size:2.4rem;
      cursor:pointer;
      touch-action:manipulation;
      user-select:none;
    }

    .modal-backdrop{
      position:fixed; inset:0;
      background:rgba(0,0,0,0.4);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding:12px;
      z-index:2000;
    }

    .modal{
      width:100%; max-width:420px;
      background:#fff;
      border-radius:12px;
      padding:20px;
      text-align:center;
    }

    .btn{
      padding:10px 16px;
      background:var(--accent);
      color:#fff;
      border:none;
      border-radius:10px;
      font-size:1rem;
      cursor:pointer;
      font-family: inherit;
    }
    .btn-secondary{
      background:#555;
    }
  </style>
</head>

<body>

  <div id="home">
    <h1>Joyeux annivvvv Cynthia ðŸ’žðŸ’ž</h1>

    <div id="photo">
      <img src="photo.jpg" alt="photo" />
    </div>

    <p>
     coucouuu ma goooo !!<br>
     aujourdâ€™hui tu fÃªtes tes 19 ans, quel Ã©vÃ¨nement !!<br>
     je suis super contente de pouvoir te les souhaiter,<br>
     mais avant de commencer, voila un petit texte que jâ€™ai grattÃ© :<br>
     aujourdâ€™hui câ€™est toi la star, câ€™est toi notre muse<br>
     en vrai Ã©crire sur toi je vais bien mâ€™amuser<br>
     tâ€™es une meuf de ouf, tâ€™es sublime, tâ€™es divine<br>
     la go que tu penses Ãªtre, sah tu mâ€™illumine<br>
     je savais pas vraiment quoi faire alors je tâ€™ai fait ce cadeau<br>
     je lâ€™ai fait avec bon coeur jâ€™espÃ¨re que tu le trouveras beau<br>
     jâ€™aimerais quâ€™on soit plus proches car je tâ€™aime vraiment bien<br>
     jâ€™aimerais que tu me prenne dans tes bras et que je te serre dans les miens<br>
     je sais que Ã§a fait pas longtemps quâ€™on se connait<br>
     mais je tâ€™avoue que sur toi jâ€™ai flashÃ©<br>
     je suis pas lesbienne je te trouve juste sympathique<br>
     tu me donne le sourire tu me rends moins mÃ©lancolique<br>
     en me levant le matin jâ€™aime dÃ©jÃ  ma journÃ©e<br>
     parce que je sais que je te verrais au lycÃ©e<br>
     jâ€™ai pas plus dâ€™inspi câ€™est dommage jâ€™avoue<br>
     si je mâ€™y Ã©tait prise Ã  lâ€™avance jâ€™aurais fais un truc de fou<br>
     prends soin de toi et passe une bonne journÃ©e<br>
     bref, bisouss, je tâ€™aime bb
    </p>

    <button id="play-btn">Jouer ðŸŽ‰</button>
  </div>

  <div id="game-section">
    <h2>Tic Tac Toe</h2>
    <div id="game-container">
      <div id="game"></div>
    </div>
  </div>

  <div id="modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal">
      <h3 id="modal-title"></h3>
      <p id="modal-message"></p>
      <div style="display:flex; gap:10px;
        justify-content:center; margin-top:12px;">
        <button id="restart-btn" class="btn">Rejouer</button>
        <button id="close-btn" class="btn btn-secondary">Fermer</button>
      </div>
    </div>
  </div>

<script>
  const MSG = {
    win: "t'as gagnÃ© ðŸ˜‹ðŸ¤­ ! t'auras droit Ã  une surprise lundi ðŸ¤—",
    lose: "t'as perdu ðŸ«µðŸ¾ðŸ¤£ ! pour te consoler t'auras une surprise lundi ðŸ¤—",
    draw: "match nul ðŸ˜¨ðŸ˜¨ ! pas grave c'est ton anniv t'as gagnÃ© une surprise lundi ðŸ¤—"
  };

  const home = document.getElementById('home');
  const gameSection = document.getElementById('game-section');
  document.getElementById('play-btn').onclick = ()=>{
    home.style.display='none';
    gameSection.style.display='block';
  }

  let board = Array(9).fill('');
  let current = 'X';
  const gameEl = document.getElementById('game');

  function render(){
    gameEl.innerHTML = '';
    board.forEach((v,i)=>{
      const c = document.createElement('div');
      c.className='cell';
      c.textContent = v;
      c.onclick = ()=>play(i);
      gameEl.appendChild(c);
    });
  }

  function play(i){
    if(board[i] || winner() || board.every(Boolean)) return;
    board[i] = current;
    current = current === 'X' ? 'O' : 'X';
    render();
    const w = winner();
    if(w || board.every(Boolean)) showPopup(w);
  }

  function winner(){
    const W=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    for(const [a,b,c] of W){ if(board[a] && board[a]===board[b] && board[a]===board[c]) return board[a]; }
    return null;
  }

  const modal = document.getElementById('modal');
  const mTitle = document.getElementById('modal-title');
  const mMsg = document.getElementById('modal-message');

  function showPopup(w){
    if(w){
      mTitle.textContent = (w==='X') ? 'Victoire !' : 'DÃ©faite !';
      mMsg.textContent = (w==='X') ? MSG.win : MSG.lose;
    } else {
      mTitle.textContent = 'Match nul !';
      mMsg.textContent = MSG.draw;
    }
    modal.style.display='flex';
    modal.setAttribute('aria-hidden','false');
  }

  document.getElementById('restart-btn').onclick = ()=>{
    board = Array(9).fill('');
    current = 'X';
    modal.style.display='none';
    render();
  };

  document.getElementById('close-btn').onclick = ()=>{
    modal.style.display='none';
  };

  modal.onclick = (e)=>{ if(e.target===modal) modal.style.display='none'; }

  render();
</script>

</body>
</html>
